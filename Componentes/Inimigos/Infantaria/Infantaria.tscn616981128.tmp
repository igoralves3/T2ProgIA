[gd_scene load_steps=44 format=3 uid="uid://c7jtwgsgdbpl2"]

[ext_resource type="Script" uid="uid://725tjqccjsfs" path="res://Componentes/Inimigos/Infantaria/infantaria.gd" id="1_pf2kk"]
[ext_resource type="PackedScene" uid="uid://dhjm8msao1hfe" path="res://Componentes/Bullets/EnemyBullet.tscn" id="2_clfx3"]
[ext_resource type="Texture2D" uid="uid://lt5tp7588j5h" path="res://Utilidades/inimigos_spritesheet.webp" id="3_04x4o"]
[ext_resource type="Script" uid="uid://bhrthd0krs05v" path="res://Scripts/Classes/fsm.gd" id="3_8nlaf"]
[ext_resource type="Script" uid="uid://crev8iknffvfn" path="res://Scripts/Classes/wander.gd" id="5_clfx3"]
[ext_resource type="Script" uid="uid://bwlb3cbdttuh2" path="res://Scripts/Classes/seek.gd" id="5_dqxkc"]
[ext_resource type="Script" uid="uid://dbmg342k1f422" path="res://Scripts/Classes/hover.gd" id="5_vi6ic"]
[ext_resource type="AudioStream" uid="uid://ce5jm4cji0b6a" path="res://Audio/SFX/NES - Commando - Sound Effects/Commando SFX (2).wav" id="8_04x4o"]

[sub_resource type="AtlasTexture" id="AtlasTexture_hs46w"]
atlas = ExtResource("3_04x4o")
region = Rect2(2, 119, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_scdno"]
atlas = ExtResource("3_04x4o")
region = Rect2(21, 119, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_ude85"]
atlas = ExtResource("3_04x4o")
region = Rect2(40, 119, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_p386x"]
atlas = ExtResource("3_04x4o")
region = Rect2(59, 119, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_3yduj"]
atlas = ExtResource("3_04x4o")
region = Rect2(306, 119, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_kihno"]
atlas = ExtResource("3_04x4o")
region = Rect2(325, 119, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_uao6g"]
atlas = ExtResource("3_04x4o")
region = Rect2(344, 119, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_naxeq"]
atlas = ExtResource("3_04x4o")
region = Rect2(363, 119, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_pg0ry"]
atlas = ExtResource("3_04x4o")
region = Rect2(154, 119, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_5vk1f"]
atlas = ExtResource("3_04x4o")
region = Rect2(173, 119, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_eewfu"]
atlas = ExtResource("3_04x4o")
region = Rect2(192, 119, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_1ae0a"]
atlas = ExtResource("3_04x4o")
region = Rect2(211, 119, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_jspt5"]
atlas = ExtResource("3_04x4o")
region = Rect2(2, 11, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_n0h5w"]
atlas = ExtResource("3_04x4o")
region = Rect2(21, 11, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_d1pid"]
atlas = ExtResource("3_04x4o")
region = Rect2(40, 11, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_w52bk"]
atlas = ExtResource("3_04x4o")
region = Rect2(59, 11, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_q06r7"]
atlas = ExtResource("3_04x4o")
region = Rect2(306, 11, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_vt5x3"]
atlas = ExtResource("3_04x4o")
region = Rect2(325, 11, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_1j67o"]
atlas = ExtResource("3_04x4o")
region = Rect2(344, 11, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_q2yyy"]
atlas = ExtResource("3_04x4o")
region = Rect2(363, 11, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_has03"]
atlas = ExtResource("3_04x4o")
region = Rect2(78, 11, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_f5rgj"]
atlas = ExtResource("3_04x4o")
region = Rect2(97, 11, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_m5oyr"]
atlas = ExtResource("3_04x4o")
region = Rect2(116, 11, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_lkk84"]
atlas = ExtResource("3_04x4o")
region = Rect2(135, 11, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_tnmib"]
atlas = ExtResource("3_04x4o")
region = Rect2(230, 11, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_txui3"]
atlas = ExtResource("3_04x4o")
region = Rect2(249, 11, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_mvuk3"]
atlas = ExtResource("3_04x4o")
region = Rect2(268, 11, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_43gfb"]
atlas = ExtResource("3_04x4o")
region = Rect2(287, 11, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_2rvll"]
atlas = ExtResource("3_04x4o")
region = Rect2(154, 11, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_sqk3h"]
atlas = ExtResource("3_04x4o")
region = Rect2(173, 11, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_5b61q"]
atlas = ExtResource("3_04x4o")
region = Rect2(192, 11, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_goy11"]
atlas = ExtResource("3_04x4o")
region = Rect2(211, 11, 16, 24)

[sub_resource type="SpriteFrames" id="SpriteFrames_k73oa"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_hs46w")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_scdno")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ude85")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_p386x")
}],
"loop": true,
"name": &"bottom_left",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_3yduj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kihno")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_uao6g")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_naxeq")
}],
"loop": true,
"name": &"bottom_right",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_pg0ry")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5vk1f")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_eewfu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1ae0a")
}],
"loop": true,
"name": &"down",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_jspt5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_n0h5w")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_d1pid")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_w52bk")
}],
"loop": true,
"name": &"left",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_q06r7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vt5x3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1j67o")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_q2yyy")
}],
"loop": true,
"name": &"right",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_has03")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_f5rgj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_m5oyr")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lkk84")
}],
"loop": true,
"name": &"top_left",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_tnmib")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_txui3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mvuk3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_43gfb")
}],
"loop": true,
"name": &"top_right",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_2rvll")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_sqk3h")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5b61q")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_goy11")
}],
"loop": true,
"name": &"up",
"speed": 5.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_vi6ic"]
size = Vector2(135.175, 7.41819)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_04x4o"]
size = Vector2(120, 120)

[node name="Infantaria" type="CharacterBody2D" groups=["Inimigos"]]
collision_layer = 4
collision_mask = 3
script = ExtResource("1_pf2kk")
bullet_inimigo = ExtResource("2_clfx3")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
sprite_frames = SubResource("SpriteFrames_k73oa")
animation = &"up"

[node name="ColisaoChao" type="CollisionShape2D" parent="."]
position = Vector2(0, 13)
scale = Vector2(0.2, -0.606)
shape = SubResource("RectangleShape2D_vi6ic")
debug_color = Color(1, 0, 0, 1)

[node name="LabelState" type="Label" parent="."]
offset_left = -60.0
offset_top = -220.0
offset_right = -20.0
offset_bottom = -55.0
theme_override_font_sizes/font_size = 10

[node name="VisibleOnScreenNotifier2D" type="VisibleOnScreenNotifier2D" parent="."]

[node name="FSM" type="Node" parent="." node_paths=PackedStringArray("initial_state")]
script = ExtResource("3_8nlaf")
initial_state = NodePath("Seek")

[node name="Wander" type="Node" parent="FSM" node_paths=PackedStringArray("character", "_animated_sprite")]
script = ExtResource("5_clfx3")
character = NodePath("../..")
_animated_sprite = NodePath("../../AnimatedSprite2D")
metadata/_custom_type_script = "uid://crev8iknffvfn"

[node name="Seek" type="Node" parent="FSM" node_paths=PackedStringArray("character")]
script = ExtResource("5_dqxkc")
character = NodePath("../..")

[node name="Hover" type="Node" parent="FSM" node_paths=PackedStringArray("character")]
script = ExtResource("5_vi6ic")
character = NodePath("../..")

[node name="RayCast2D" type="RayCast2D" parent="."]
collision_mask = 2
collide_with_areas = true

[node name="Timer" type="Timer" parent="."]

[node name="SFXDeath" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("8_04x4o")
volume_db = -16.0

[node name="Area2DColisaoMorte" type="Area2D" parent="."]
light_mask = 4
visibility_layer = 2
scale = Vector2(0.1, 0.1)
collision_layer = 4
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="Area2DColisaoMorte"]
position = Vector2(7.15256e-06, 7.15256e-06)
shape = SubResource("RectangleShape2D_04x4o")

[connection signal="screen_exited" from="VisibleOnScreenNotifier2D" to="." method="_on_visible_on_screen_notifier_2d_screen_exited"]
[connection signal="timeout" from="Timer" to="." method="_on_timer_timeout"]
[connection signal="timeout" from="Timer" to="FSM/Seek" method="_on_timer_timeout"]
